<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="src/styles.css" />
    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
    <title>Document</title>
</head>
<style>
body {
  background: linear-gradient(to top, #d0f0ff, #ffffff);
  font-family: Arial, sans-serif;
  padding: 20px;
}

h1 {
  text-align: center;
  color: #0066aa;
}

.card {
  background: #ffffffcc;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  padding: 20px;
}

#city-name {
  font-size: 24px;
  font-weight: bold;
  color: #004466;
}

#description {
  text-transform: capitalize;
  color: #666;
}

.temperature {
  text-align: right;
}

.temperature .tempa {
  font-size: 36px;
  font-weight: bold;
  color: #006699;
}

.temperature .units a {
  color: #ff8800;
  text-decoration: none;
}

.weather-forecast {
  margin-top: 20px;
  text-align: center;
}

.weather-forecast-date {
  font-weight: bold;
  color: #004466;
}

.weather-forecast-temperature-max {
  color: #006699;
  font-weight: bold;
}

.weather-forecast-temperature-min {
  color: #888;
}
</style>

<body>
    <div class="container">
        <h1>Weather in your cityðŸŒž</h1>
        <div class="card">
            <div class="card-body">
                <form class="search-form" id="search-form">
                    <div class="row">
                        <div class="col-8">
                            <input type="text" placeholder="Enter your city" class="form-control" autofocus="on"
                                autocomplate="off" id="city-input" />
                        </div>
                        <div class="col">
                            <input type="submit" value="Search" class="form-control btn btn-primary" />
                        </div>
                        <div class="col">
                            <button class="btn btn-success" id="current-location">
                                Current
                            </button>
                        </div>
                    </div>
                </form>
                <br />
                <div class="row">
                    <div class="col-8">
                        <h2 id="city-name"></h2>
                        <ul>
                            <li id="date"></li>
                            <li id="description"></li>
                            <li>Humidity: <span id="humidity"></span>%</li>
                            <li>Wind: <span id="wind"></span>km/h</li>

                        </ul>
                    </div>
                    <div class="col-4">
                        <p>
                        <div class="temperature">
                            <span class="tempa" id="tempa">-1</span>
                            <span class="units">
                                <a href="#" id="celsius-link" class="active">Â°C</a> |
                                <a href="#" id="fahrenheit-link">Â°F</a>
                            </span>
                            <div class="emoji">
                                <img src="" id="icon" />
                            </div>
                        </div>
                        </p>
                    </div>
                </div>
                        <div class="weather-forecast">
                            <div class="row">
                                <div class="col-2">
                                    <div class="weather-forecast-date">Mon</div>
                                    <img src="http://openweathermap.org/img/wn/50d@2x.png" alt="" width="42" />
                                    <div class="weather-forecast-temperatures">
                                        <span class="weather-forecast-temperature-max"> 18Â° </span>
                                        <span class="weather-forecast-temperature-min"> 12Â° </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                <div class="weather-forecast" id="forecast"></div>
            </div>
        </div>
    </div>


<script>
let now = new Date();
let currentDate = document.querySelector("#date");
let days = [
  "Sunday",
  "Monday",
  "Tuesday",
  "Wednesday",
  "Thursday",
  "Friday",
  "Saturday"
];
let day = days[now.getDay()];
let hours = now.getHours();
let minutes = now.getMinutes();
if (hours < 10) {
  currentDate.innerHTML = `${day}, 0${hours}:${minutes}`;
} 
if (minutes < 10) {
  currentDate.innerHTML = `${day}, ${hours}:0${minutes}`;
} else {
  currentDate.innerHTML = `${day}, ${hours}:${minutes}`;
}

function displayForecast() {
  let forecastElement = document.querySelector("#forecast");

  let days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri"];

  let forecastHTML = `<div class="row">`;
  days.forEach(function (day) {
    forecastHTML =
      forecastHTML +
      `
      <div class="col-2">
        <div class="weather-forecast-date">${day}</div>
        <img
          src="http://openweathermap.org/img/wn/50d@2x.png"
          alt=""
          width="42"
        />
        <div class="weather-forecast-temperatures">
          <span class="weather-forecast-temperature-max"> 18Â° </span>
          <span class="weather-forecast-temperature-min"> 12Â° </span>
        </div>
      </div>
  `;
  });

  forecastHTML = forecastHTML + `</div>`;
  forecastElement.innerHTML = forecastHTML;
  console.log(forecastHTML);
}

function search(event) {
  event.preventDefault();
  let searchInput = document.querySelector("#city-input");
  let h2 = document.querySelector("h2");
  if (searchInput.value) {
    h2.innerHTML = `${searchInput.value}`;
  } else {
    h2.innerHTML = null;
    alert("Please, type a city");
  }
}

let form = document.querySelector("#search-form");
form.addEventListener("submit", search);

function convertToFahrenheit(event) {
  event.preventDefault();
  let temperatureElement = document.querySelector("#tempa");
  celsiusLink.classList.remove("active");
  fahrenheitLink.classList.add("active");
  let fahrenheiTemperature = (celsiusTemperature * 9) / 5 + 32;
  temperatureElement.innerHTML = Math.round(fahrenheiTemperature);

}

function convertToCelsius(event) {
  event.preventDefault();
  celsiusLink.classList.add("active");
  fahrenheitLink.classList.remove("active");
  let temperatureElement = document.querySelector("#tempa");
  temperatureElement.innerHTML = Math.round(celsiusTemperature);

}

let celsiusTemperature = null;

let fahrenheitLink = document.querySelector("#fahrenheit-link");
fahrenheitLink.addEventListener("click", convertToFahrenheit);

let celsiusLink = document.querySelector("#celsius-link");
celsiusLink.addEventListener("click", convertToCelsius);




function displayWeather(response) {

  celsiusTemperature = response.data.main.temp; 

  document.querySelector("#city-name").innerHTML = response.data.name;
  document.querySelector("#tempa").innerHTML = Math.round(response.data.main.temp);
  document.querySelector("#description").innerHTML = response.data.weather[0].description;
  document.querySelector("#humidity").innerHTML = response.data.main.humidity;
  document.querySelector("#wind").innerHTML = Math.round(response.data.wind.speed);
  document.querySelector("#icon").setAttribute("src",`http://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`);
}


function searchCity(city) {
  let apiKey = "559c028ba95b5d267bf7ba088c6cb5d6";
  let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;
  axios.get(apiUrl).then(displayWeather);
}


function handleSubmit(event) {
  event.preventDefault();
  let city = document.querySelector("#city-input").value;
  searchCity(city);
}

function searchLocation(position) {
  let apiKey = "559c028ba95b5d267bf7ba088c6cb5d6";
  let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${position.coords.latitude}&lon=${position.coords.longitude}&appid=${apiKey}&units=metric`;
  axios.get(apiUrl).then(displayWeather);
}

function getCurrentLocation(event) {
  event.preventDefault();
  navigator.geolocation.getCurrentPosition(searchLocation);
}

let searchForm = document.querySelector("#search-form");
searchForm.addEventListener("submit", handleSubmit);

let currentLocationButton = document.querySelector("#current-location");
currentLocationButton.addEventListener("click", getCurrentLocation);

searchCity("London");
searchCity("London");

displayForecast();
</script>
<h5> coded by Emma</h5>
</body>
</html># Auto detect text files and perform LF normalization
* text=auto
